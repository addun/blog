---
title: How to observe @Input in Angular with RxJs
description: |
  Angular does not provide something like AsyncInput, 
  but you can work around in a very easy way with set, 
  ReplaySubject and @Input decorator.
tags: ["Angular"]
thumbnail: https://codegen.studio/wp-content/uploads/2022/08/angular-320x180.png
repository:
---

```ts
@Component({
  /* ... */
})
export class ExampleComponent implements OnDestroy {
  @Input() set userId(userId: number) {
    this.userId$.next(userId);
  }

  private userId$ = new ReplaySubject<number>(1);
  userDetails$ = this.userId$.pipe(
    switchMap((userId) => this.userService.getUserDetails(userId)),
    shareReplay(1),
  );

  constructor(private userService: UserService) {}

  ngOnDestroy() {
    this.userId$.complete();
  }
}
```
